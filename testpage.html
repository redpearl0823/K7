<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="initial-scale=1.0, width=device-width">
        <link rel="stylesheet" href="./css/test.css">
        <title>K-7 설문조사</title>
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
        <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
    </head>
    <body>
        <div id="test">
            <!-- 도입부 -->
            <div id="intro" class="intro-wrap">
                <div class="intro">
                    <div class="intro-story" v-on:click="start">{{intro}}</div>
                </div>
		<div >
                    <img src="https://www.7-eleven.co.kr/front/img/com/logo.png">
                </div>
            </div>
            <div id="main">
                <!-- 타이틀 -->
                <div class="title-wrap">
                    <h2 class="title">{{title}}</h2>
                </div>
                <!-- 질문 -->
                <div class="question-wrap">
                    <h3 class="question">
                        {{qna[currentIndex].q}}
                    </h3>
                </div>
                <!-- 답변 -->
                <div class="answer-wrap">
                    <div v-for="(qVal, qIdx) in qna" :id="'q'+qIdx">
                        <div v-if="qna[qIdx].a != null">
                            <div v-if="qIdx == currentIndex" v-for="(aVal, aIdx) in qna[qIdx].a" class="answer">
                                <input type="radio" :name="'q'+qIdx" :id="'q'+qIdx+'a'+aIdx" :value="qna[qIdx].a[aIdx]" v-model="qna[qIdx].r">
                                <label :for="'q'+qIdx+'a'+aIdx">{{aVal}}</label>
                            </div>
                        </div>
                        <div v-if="qna[qIdx].a == null">
                            <input v-if="qIdx == currentIndex" class="answer-text" type="text" :id="'q'+qIdx+'a0'" v-model="qna[qIdx].r" placeholder="">
                        </div>
                    </div>
                </div>
                <!-- 하단 버튼 -->
                <div class="bottom">
                    <div class="controller-wrap">
                        <button class='prev-btn' v-on:click="prev">이전</button>
                        <button class='next-btn' v-on:click="next">다음</button>
                    </div>
                </div>
            </div>
            <!-- 결과 -->
            <div id="result" class="result-wrap">
                <div class="result">{{result}}</div>
	    <div>
                          카카오톡 공유하기
		  <a href="javascript:sendLink()"><img src="https://developers.kakao.com/assets/img/about/logos/kakaolink/kakaolink_btn_medium.png" /></a>
		  <a href="javascript:shareStoryWeb()"><img src="https://developers.kakao.com/sdk/js/resources/story/icon_small.png" /></a>
	    </div>
            </div>
        </div>
        <script src="./js/test.js"></script>
        <script type="text/javascript">
	  Kakao.init('d6301868b77a02fa536be14be31c7862'); // 초기화

	  function sendLink() { // 카카오톡 공유하기
	    Kakao.Link.sendDefault({
	      objectType: 'text',
	      text: result,
	      link: {
	        mobileWebUrl: 'https://developers.kakao.com',
	        webUrl: 'https://developers.kakao.com',
	      },
	    })
	  }
	  function shareStoryWeb() { // 카카오 스토리 공유하기
	    Kakao.Story.share({
	      url: 'https://developers.kakao.com',
	      text: result,
	    })
	  }
       </script>
    </body>
</html>
